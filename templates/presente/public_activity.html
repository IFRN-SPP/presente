{% extends 'presente/base.html' %}
{% load static %}

{% block title %}{{ activity.title }}{% endblock %}

{% block body_class %}public-activity-page{% endblock %}

{% block extra_head %}
<script src="https://cdn.jsdelivr.net/npm/qrcodejs@1.0.0/qrcode.min.js"></script>
{% endblock %}

{% block app_wrapper %}
<div class="fullscreen-container">
  <div class="activity-card">
    <div class="activity-header">
      <h1><i class="bi bi-calendar-event"></i> {{ activity.title }}</h1>
    </div>

    <div class="activity-body">
      <div class="qr-section">
        <div class="qr-title">Registrar Presen√ßa</div>

        <div id="qr-code-container"
             hx-get="{% url 'presente:activity_qr' encoded_id %}"
             hx-trigger="load"
             hx-swap="innerHTML">
          <div class="spinner-border text-primary" role="status">
            <span class="visually-hidden">Carregando...</span>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}
